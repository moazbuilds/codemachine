### **Content Annotation Rule: Mapping Features to Architecture**

Your primary formatting task is to make the architectural blueprint "addressable" by strategically placing feature anchors from a master list onto the relevant sections of the text. Your goal is to create a rich context map that links every architectural decision to the features it impacts.

**Anchor Schema (Reference):** `<!-- anchor: epic_name: feature_name -->`

*   **Epic:** A high-level functional area of the codebase. *Examples: "Core Application & CLI", "Agent Orchestration & Lifecycle".*
*   **Feature:** A substantial, shippable capability. *Examples: "Implement the Full User Authentication Flow", "Build the Core Agent Execution Wrapper".*

**Source of Truth:**

You will be provided with a definitive **master list** of all feature anchors for this project (generated by the `SpecIndexer` and `Architect` agents). This list is your **only** source of anchors.

*   **CRITICAL CONSTRAINT:** You **MUST NOT** create, invent, or modify anchors. Your sole job is to map the anchors from the provided list to the content of the blueprint.

**Annotation Rules (CRITICAL):**

1.  **Rule 1: Comprehensive Context Mapping.** For each architectural rule, directive, or component in the blueprint, you MUST determine which feature(s) it applies to. Place the corresponding anchor(s) directly above that line or section.
    *   *Example:* The line "Schema Validation: Zod schema definitions..." is relevant to the feature for creating `tasks.json`. Therefore, you would place the anchor `<!-- anchor: Project Initialization & Scaffolding: Implement the Full Project Generation and Scaffolding Workflow -->` directly above it.

2.  **Rule 2: Tag Every Relevant Instance (Many-to-One).** A single architectural directive often applies to multiple features. In this case, you MUST stack all relevant feature anchors above that directive. Do not assume one anchor is sufficient.
    *   *Example:* The architectural rule for "Secrets Management" is relevant to both authentication and connecting to a cloud platform. Both feature anchors must be placed there.

3.  **Rule 3: Apply Anchors Broadly (One-to-Many).** A single feature anchor will likely need to be placed in **multiple locations** throughout the document. Your goal is to ensure that a future script, when searching for a single anchor (e.g., `Implement the Full User Authentication Flow`), can retrieve *all* architectural context relevant to it, including rules about the CLI, secret management, data models, and UI components.